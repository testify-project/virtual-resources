sudo: required
dist: trusty

language: java

jdk: oraclejdk8

services: docker

notifications:
    email:
        - builds@fitbur.com
    on-success: change
    on-failure: always

cache:
    apt: true
    pip: true
    directories:
     - $HOME/.m2

addons:
    apt:
        packages:
         - gnupg
         - net-tools
            
env:
  global:
     - MAVEN_OPTS="-client -Xms512m -Xmx2048m"
  matrix:
#    - DOCKER_VERSION=1.9.1
#    - DOCKER_VERSION=1.10.3
#    - DOCKER_VERSION=1.11.2
#    - DOCKER_VERSION=1.12.6 ENABLE_SWARM=1
    - DOCKER_VERSION=1.13.1 ENABLE_SWARM=1
#    - DOCKER_VERSION=17.03.0~ce ENABLE_SWARM=1
#    - DOCKER_VERSION=17.04.0~ce ENABLE_SWARM=1

before_install:
    - ./before_install.sh
    
script: ./script.sh

after_success:
    - bash <(curl -s https://codecov.io/bash)
    - ./after_success.sh
    
